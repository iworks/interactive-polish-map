/*! Build a Houser - v1.0.2
 * https://iworks.pl/
 * Copyright (c) 2021; * Licensed GPLv2+ */

jQuery(document).ready(function(a){a(function(){a('input[name="iworks_build_a_house_breakdowns"]').on("click",function(b){var c=a(this);if(b.preventDefault(),window.confirm(build_a_house.messages.import)){var d={url:ajaxurl,cache:!1,method:"POST",data:{_wpnonce:c.data("nonce"),action:"iworks_build_a_house_breakdowns_import"}};c.attr("disabled","disabled").addClass("disabled"),a.ajax(d).success(function(a){c.removeAttr("disabled").removeClass("disabled")})}return!1})})}),jQuery(document).ready(function(a){a(function(){a(".iworks-build_a_house-row .datepicker").each(function(){var b=a(this).data("date-format")||"yy-mm-dd";a(this).datepicker({dateFormat:b})})})}),jQuery(document).ready(function(a){a(function(){})}),jQuery(document).ready(function(a){function b(a){if(a.loading)return a.text;var b="<div class='select2-result-contractor clearfix'><div class='select2-result-contractor__meta'><div class='select2-result-contractor__title'>"+a.full_name+"</div>";return a.description&&(b+="<div class='select2-result-contractor__description'>"+a.description+"</div>"),a.nip&&(b+="<div class='select2-result-contractor__nip'>"+a.nip+"</div>"),b+="</div></div>"}function c(a){return a.full_name||a.text}window.console.log("start select2.js"),a(".iworks-build_a_house-row select.select2").select2({ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(b){return{q:b.term,page:b.page,action:a(this).attr("id"),_wpnonce:a(this).data("nonce")}},processResults:function(a,b){return b.page=b.page||1,{results:a.items,pagination:{more:30*b.page<a.total_count}}},cache:!0},escapeMarkup:function(a){return a},minimumInputLength:1,templateResult:b,templateSelection:c})});